Job:
  - path: /[id]/complete
    verb: POST
    method: completeJob
    summary: Mark job as completed
    input: CompleteJobDTO
    output: Job
    role: job-owner

  - path: /[id]/fail
    verb: POST
    method: failJob
    summary: Mark job as failed
    input: FailJobDTO
    output: Job
    role: job-owner

  - path: /[id]/cancel
    verb: POST
    method: cancelJob
    summary: Cancel a job
    input: CancelJobDTO
    output: Job
    role: job-owner

  - path: /[id]/progress
    verb: POST
    method: updateProgress
    summary: Update job progress
    input: UpdateProgressDTO
    output: none
    role: job-owner

Orchestrator:
  - path: /poll
    verb: POST
    method: pollJobs
    summary: Poll for pending jobs based on capabilities
    input: PollJobsDTO
    output: Job[]
    role: agent

  - path: /check-stale
    verb: POST
    method: checkStaleAgents
    summary: Check for and handle stale agents
    input: none
    output: none
    role: agent-admin

Agent:
  - path: /register
    verb: POST
    method: registerAgent
    summary: Register or update an agent
    input: RegisterAgentDTO
    output: Agent
    role: anonymous

  - path: /[id]/heartbeat
    verb: POST
    method: heartbeat
    summary: Update agent heartbeat
    input: HeartbeatDTO
    output: none
    role: anonymous

Metrics:
  - path: /jobs
    verb: GET
    method: getJobMetrics
    summary: Get job metrics
    input: none
    output: JobMetrics
    role: agent-admin

  - path: /agents
    verb: GET
    method: getAgentMetrics
    summary: Get agent metrics
    input: none
    output: AgentMetrics
    role: agent-admin
