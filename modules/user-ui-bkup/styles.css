@import 'tailwindcss';
@reference "../../src/styles/theme.css";

/* modules/user/styles.css */
@reference "../../src/styles/styles.css";

@layer base {
  * {
    @apply border-border;
  }
}

@layer components {
  /*
    Auth Pages Layout
    Used in login.astro, register.astro, etc.
  */
  .auth-page-container {
    @apply flex min-h-screen items-center justify-center bg-background relative overflow-hidden;
  }

  /*
    Background Orbs
    Note: Token usage for colors ensures theme compatibility
  */
  .auth-orb {
    @apply absolute w-[50%] h-[50%] rounded-full blur-[120px];
  }

  .auth-orb-primary {
    @apply orb-primary;
  }

  .auth-orb-secondary {
    @apply orb-secondary;
  }

  .auth-mode-toggle-container {
    @apply absolute top-4 right-4 z-10;
  }

  .auth-form-wrapper {
    @apply z-10 w-full max-w-sm;
  }

  .auth-logo-container {
    @apply flex justify-center m-section;
  }

  .auth-logo-image {
    @apply object-contain;
  }

  /*
    Auth Cards (Forms)
    Inherits glass-panel traits but adds module-specific sizing
  */
  .auth-card {
    @apply surface-panel w-dialog-sm border-none;
  }

  .auth-card-title {
    @apply text-heading-xl text-center;
  }

  .auth-card-description {
    @apply text-center;
  }

  .auth-form-container {
    @apply gap-md;
  }

  .auth-form-message {
    @apply m-component p-3 text-sm shape-rounded-md text-center border-divider-base;
  }

  .auth-form-message-success {
    @apply feedback-success-card;
  }

  .auth-form-message-error {
    @apply feedback-error-card;
  }

  .auth-link-expired-content {
    @apply text-center space-y-4;
  }

  .auth-link-expired-text {
    @apply text-destructive;
  }

  .auth-link-expired-action {
    @apply text-link;
  }

  .auth-form-group {
    @apply gap-sm w-full;
  }

  .auth-form-input-error {
    @apply feedback-error-text;
  }

  .auth-form-submit-button {
    @apply w-full btn-success;
  }

  .auth-success-message-container {
    @apply flex justify-center;
  }

  .auth-back-link-container {
    @apply text-center pt-2;
  }

  .auth-back-link {
    @apply text-link-subtle;
  }

  .auth-input {
    @apply input-field;
  }

  .auth-return-button {
    @apply btn-secondary;
  }

  .auth-success-card {
    @apply w-dialog-sm surface-panel border-none animate-in fade-in zoom-in duration-300;
  }

  .auth-success-text {
    @apply text-center text-subtle;
  }

  .auth-login-link-container {
    @apply text-center text-sm;
  }

  .auth-login-text {
    @apply text-subtle;
  }

  .auth-login-link {
    @apply text-link;
  }

  .auth-submit-button {
    @apply w-full btn-primary;
  }

  .auth-password-header {
    @apply flex items-center justify-between;
  }

  .auth-forgot-password-link {
    @apply text-link-subtle;
  }

  .auth-header-container {
    @apply text-center mb-4;
  }

  .auth-app-title {
    @apply text-heading-xl;
  }

  .auth-verify-content {
    @apply text-center space-y-4;
  }

  .auth-verify-message {
    @apply text-subtle;
  }

  .auth-verify-submessage {
    @apply text-subtle-xs;
  }

  .auth-verification-container {
    @apply p-8 text-center space-y-6;
  }

  .auth-verification-title-success {
    @apply text-heading-xl text-center text-green-500 mb-4;
  }

  .auth-verification-title-error {
    @apply text-heading-xl text-center text-destructive mb-4;
  }

  .auth-verification-description {
    @apply text-center mb-6;
  }

  .auth-verification-button {
    @apply inline-flex btn-primary px-6 py-2 rounded-md;
  }

  /*
    Admin Components
  */
  .admin-page-wrapper {
    @apply min-h-screen bg-background;
  }

  .admin-page-header {
    @apply admin-header-bg;
  }

  .admin-header-container {
    @apply container flex h-14 max-w-screen-2xl items-center;
  }

  .admin-header-left {
    @apply mr-4 flex;
  }

  .admin-logo-link {
    @apply mr-6 flex items-center space-x-2;
  }

  .admin-logo-text {
    @apply font-bold sm:inline-block;
  }

  .admin-nav {
    @apply flex items-center space-x-6 text-body-sm;
  }

  .admin-nav-link {
    @apply text-nav-item;
  }

  .admin-nav-link-active {
    @apply text-nav-item-active;
  }

  .admin-header-right {
    @apply flex flex-1 items-center justify-between space-x-2 md:justify-end;
  }

  .admin-main-content {
    @apply container py-10 max-w-screen-xl;
  }

  .admin-table-container {
    @apply container-admin-table;
  }

  .admin-header {
    @apply flex items-center justify-between space-y-2 m-page-title;
  }

  .admin-title {
    @apply text-heading-xl;
  }

  .admin-container {
    @apply space-y-6;
  }

  .admin-toolbar {
    @apply flex items-center gap-sm w-full sm:w-auto;
  }

  .admin-form {
    @apply gap-md;
  }

  .admin-form-group {
    @apply gap-sm pb-4;
  }

  .admin-select-trigger {
    @apply input-field w-full;
  }

  .admin-search-container {
    @apply relative flex-1 sm:w-[300px];
  }

  .admin-search-icon {
    @apply absolute left-2.5 top-2.5 icon-sm text-muted-foreground;
  }

  .admin-search-input {
    @apply input-field;
  }

  .admin-refresh-icon {
    @apply icon-sm;
  }

  .admin-error-alert {
    @apply feedback-error-card;
  }

  .admin-table-row {
    @apply state-hover-bg;
  }

  .admin-table-empty {
    @apply h-24 text-center text-muted-foreground;
  }

  .admin-cell-name {
    @apply text-highlight;
  }

  .admin-cell-date {
    @apply text-subtle;
  }

  .admin-cell-actions {
    @apply text-right;
  }

  .admin-badge-role-admin {
    @apply badge-primary bg-primary/20 text-primary border-primary/20;
  }

  .admin-badge-status-active {
    @apply badge-base text-green-500 border-green-500/20 bg-green-500/10;
  }

  .user-profile-header {
    @apply flex flex-col space-y-1;
  }

  .user-profile-name {
    @apply text-body-sm leading-none;
  }

  .user-profile-email {
    @apply text-subtle-xs leading-none;
  }

  .admin-dialog-content {
    @apply surface-panel sm:max-w-[425px];
  }

  /*
    Profile Components
  */
  .profile-modal-trigger {
    @apply rounded-full size-10 bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-colors;
  }

  .profile-input {
    @apply input-field-lg bg-background/50 border-input;
  }

  .admin-invite-button {
    @apply btn-primary bg-primary/20 hover:bg-primary/30 text-primary border-primary/20;
  }

  .admin-input {
    @apply input-field;
  }

  .admin-refresh-button {
    @apply btn-secondary;
  }

  .admin-icon-left {
    @apply mr-2 icon-sm;
  }

  .admin-icon-base {
    @apply icon-sm;
  }

  .admin-action-button {
    @apply size-8 p-0;
  }

  .profile-submit-btn {
    @apply w-full md:w-auto h-12 text-lg px-8 font-medium transition-all duration-300;
  }

  .profile-submit-btn:hover {
    box-shadow: 0 0 30px rgba(34, 197, 94, 0.3);
  }

  .admin-destructive-title {
    @apply text-destructive;
  }

  .admin-confirm-container {
    @apply py-4 space-y-2;
  }

  .admin-label {
    @apply input-label;
  }

  .admin-dialog-error {
    @apply feedback-error-text py-2;
  }

  .admin-dialog-footer {
    @apply gap-sm sm:gap-0;
  }

  .admin-cancel-button {
    @apply btn-secondary;
  }

  .admin-delete-button {
    @apply bg-destructive hover:bg-destructive/90 text-destructive-foreground shadow-sm;
  }

  .admin-dialog-form {
    @apply space-y-4 py-4;
  }

  .admin-submit-button {
    @apply btn-primary bg-primary/20 hover:bg-primary/30 text-primary border-primary/20;
  }

  .admin-dropdown-content {
    @apply surface-panel border-none;
  }

  .admin-dropdown-item {
    @apply cursor-pointer;
  }

  .admin-dropdown-destructive {
    @apply text-red-600 focus:text-red-600 cursor-pointer;
  }

  .admin-reader-only {
    @apply sr-only;
  }

  /*
      Password Input Component
    */
  .password-input-container {
    @apply relative space-y-2;
  }

  .password-input-wrapper {
    @apply relative;
  }

  .password-input-field {
    @apply pr-10;
  }

  .password-reader-only {
    @apply sr-only;
  }

  .password-toggle-button {
    @apply absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent;
  }

  .password-toggle-icon {
    @apply icon-sm text-subtle;
  }

  .password-strength-meter {
    @apply space-y-1;
  }

  .password-strength-bar-bg {
    @apply flex h-1 w-full overflow-hidden rounded-full bg-secondary;
  }

  .password-strength-bar-fill {
    @apply h-full transition-all duration-500 ease-out;
  }

  .password-strength-fill-0 {
    @apply bg-gray-200 dark:bg-gray-800;
  }

  .password-strength-fill-1 {
    @apply bg-red-500;
  }

  .password-strength-fill-2 {
    @apply bg-orange-500;
  }

  .password-strength-fill-3 {
    @apply bg-yellow-500;
  }

  .password-strength-fill-4 {
    @apply bg-green-500;
  }

  .password-strength-text-container {
    @apply flex justify-between items-center text-xs;
  }

  .password-strength-label {
    @apply text-highlight;
  }

  .password-strength-label-weak {
    @apply text-red-500;
  }

  .password-strength-label-normal {
    @apply text-subtle;
  }

  .password-strength-feedback {
    @apply text-subtle text-right truncate pl-2;
  }

  /*
    User Menu Component
    */
  .user-menu-trigger {
    @apply relative h-9 w-9 rounded-full;
  }

  .user-menu-avatar {
    @apply size-9;
  }

  .user-menu-content {
    @apply w-56;
  }

  .user-menu-label {
    @apply font-normal;
  }

  .user-menu-icon {
    @apply mr-2 icon-sm;
  }

  /*
    User Profile Form Component
    */
  .profile-form-loading-container {
    @apply p-8 flex justify-center;
  }

  .profile-form-loader {
    @apply icon-md animate-spin text-subtle;
  }

  .profile-form-header-container {
    @apply space-y-6;
  }

  .profile-form-title {
    @apply text-heading-md;
  }

  .profile-form-description {
    @apply text-subtle;
  }

  .profile-form-wrapper {
    @apply space-y-6;
  }

  .profile-form-section {
    @apply space-y-6;
  }

  .profile-form-section-header {
    @apply flex items-center gap-sm text-heading-md border-b pb-2 border-border;
  }

  .profile-form-section-icon {
    @apply icon-sm;
  }

  .profile-form-grid {
    @apply grid gap-6;
  }

  .profile-form-grid-item {
    @apply grid gap-sm;
  }

  .profile-form-security-card {
    @apply grid gap-6 p-6 rounded-lg border border-border bg-muted/50;
  }

  .profile-form-error {
    @apply text-destructive text-sm font-medium;
  }

  .profile-form-success {
    @apply text-green-600 text-sm font-medium dark:text-green-400;
  }

  .profile-form-footer {
    @apply flex justify-end pt-4;
  }

  .profile-form-submit-loader {
    @apply mr-2 icon-sm animate-spin;
  }

  .profile-form-danger-zone {
    @apply border-t border-border pt-6 mt-6;
  }

  .profile-form-danger-header {
    @apply flex items-center gap-sm text-heading-md text-destructive mb-4;
  }

  .profile-form-danger-icon {
    @apply icon-sm;
  }

  .profile-form-danger-card {
    @apply p-container-sm border border-destructive/20 bg-destructive/5 rounded-lg;
  }

  .profile-form-danger-text {
    @apply text-subtle mb-4;
  }
}
